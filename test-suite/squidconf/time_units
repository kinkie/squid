## Copyright (C) 1996-2019 The Squid Software Foundation and contributors
##
## Squid software is distributed under GPLv2+ license and includes
## contributions from numerous individuals and organizations.
## Please see the COPYING and CONTRIBUTORS files for details.

#
# Tests for directives with time units
#

# a millisecond-precision parameter (time-units)

# minimum checks
dns_timeout 1 millisecond
dns_timeout 0.001 second

# check support for the maximum value (expressed in each supported time unit)
# XXX: Use a 32-bit maximum to avoid breaking tests on 32-bit platforms.
# TODO: Generate these test lines based on the target build platform.
dns_timeout 2147483647854 milliseconds
dns_timeout 2147483647 seconds
dns_timeout 2562047 minutes
dns_timeout 42700 hours
dns_timeout 1779 days
dns_timeout 254 weeks
dns_timeout 127 fortnights
dns_timeout 63 months
dns_timeout 5.27 years
dns_timeout 0.727 decades

# a second-precision parameter (time-units)

# minimum checks
max_stale 1 second
max_stale 0.0167 minute

# maximum checks (see similar dns_timeout checks for details)
max_stale 2147483647 seconds
max_stale 2562047 minutes
max_stale 42700 hours
max_stale 1779 days
max_stale 254 weeks
max_stale 127 fortnights
max_stale 63 months
max_stale 5.27 years
max_stale 0.727 decades

# a multiple-options parameter

url_rewrite_timeout 1 second on_timeout=bypass
url_rewrite_timeout 0.001 year on_timeout=bypass
url_rewrite_timeout 292 year on_timeout=bypass

# should be a WARNING (-k parse)
url_rewrite_timeout 1 on_timeout=bypass

# TODO: a nanosecond-precison parameter (time-units-small)
